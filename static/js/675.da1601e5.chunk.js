"use strict";(self.webpackChunkdynamicapp=self.webpackChunkdynamicapp||[]).push([[675],{65675:(e,l,s)=>{s.r(l),s.d(l,{default:()=>c});var a=s(65043),r=s(60184),t=s(70579);const c=e=>{let{gadget:l,isFullscreen:s}=e;const{data:c=[],searchPlaceholder:n="Search...",itemKey:o="id",valueMembers:i=[],iconDef:u=[],maxHeight:d=300}=l.gadgetOptions||l,[m,h]=(0,a.useState)(""),[x,f]=(0,a.useState)(c),p=e=>{let l=[];return Array.isArray(e)?e.forEach((e=>{l=l.concat(p(e))})):"object"===typeof e&&null!==e?Object.values(e).forEach((e=>{l=l.concat(p(e))})):l.push(e),l};(0,a.useEffect)((()=>{const e=m.toLowerCase();f(c.filter((l=>p(l).map((e=>String(e).toLowerCase())).some((l=>l.includes(e))))))}),[m,c]);const g=e=>{const l=Object.keys(e),s=u.length>0?Object.keys(u[0]):[];return l.find((e=>s.includes(e)))},j={};u.forEach((e=>{const l=g(e);l&&(j[e[l]]={iconName:e.icon,color:e.color})}));const v=e=>{if(e){const l=r[e.iconName];if(l)return(0,t.jsx)(l,{size:24,color:"#FFFFFF"})}return(0,t.jsx)(r.FaChartPie,{size:24})},y=s?window.innerHeight:d;return(0,t.jsxs)("div",{className:`flex flex-col ${l.colSpan||""}`,children:[(0,t.jsx)("input",{type:"text",placeholder:n,className:"text-xs w-full p-2 mb-4 border rounded-lg focus:outline-none focus:border-blue-500",value:m,onChange:e=>h(e.target.value),style:{backgroundColor:"var(--tertiaryBackground)",color:"var(--primaryTextColor)",borderColor:"var(--secondaryBackground)"}}),(0,t.jsx)("ul",{className:"overflow-y-auto",style:{maxHeight:`${y}px`},children:x.map(((e,l)=>{const s=g(e),r=s?e[s]:null,c=r?j[r]:null,n=c?c.color:"var(--tertiaryBackground)",u=[],d=[];return i.forEach((l=>{const s=e[l];"object"===typeof s&&null!==s?d.push({fieldName:l,value:s}):u.push({fieldName:l,value:s})})),(0,t.jsxs)(a.Fragment,{children:[(0,t.jsxs)("li",{className:"flex items-start mb-2 text-xs",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full flex-shrink-0 flex items-center justify-center mr-2 mt-1",style:{backgroundColor:n},children:v(c)}),(0,t.jsxs)("div",{className:"flex flex-col",children:[u.length>0&&u[0].value&&(0,t.jsx)("div",{className:"font-semibold",children:u[0].value}),u.length>1&&(0,t.jsx)("div",{className:"text-gray-500",children:u.slice(1).map(((e,l)=>(0,t.jsxs)("span",{children:[e.value,l<u.slice(1).length-1&&" | "]},e.fieldName)))}),d.map((e=>(0,t.jsx)("div",{className:"text-gray-500 text-xs flex flex-wrap",children:Object.entries(e.value).map(((l,s)=>{let[a,r]=l;return(0,t.jsxs)("span",{className:"flex items-center mr-2",children:[a,": ",r,s<Object.entries(e.value).length-1&&(0,t.jsx)("span",{className:"mx-2",children:"|"})]},a)}))},e.fieldName)))]})]}),l<x.length-1&&(0,t.jsx)("hr",{className:"border-t border-tertiaryBackground my-2"})]},e[o]||l)}))})]})}}}]);
//# sourceMappingURL=675.da1601e5.chunk.js.map